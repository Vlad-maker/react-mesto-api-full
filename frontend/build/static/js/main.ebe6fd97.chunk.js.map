{"version":3,"sources":["utils/Api.js","images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Footer.js","components/Main.js","components/Login.js","components/Register.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/ProtectedRoute.js","images/ok.svg","images/cancel.svg","components/InfoTooltip.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/Auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["api","data","this","_url","url","fetch","method","headers","Authorization","localStorage","getItem","then","_checkStatus","names","links","body","JSON","stringify","name","link","about","id","avatar","checkCard","res","ok","json","Promise","reject","status","Header","props","locationLink","useLocation","className","src","logo","alt","loggedIn","headerEmail","onClick","logOut","pathname","to","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","CardClick","type","onCardDelete","onCardLike","length","Footer","Date","getFullYear","Main","onEditAvatar","onEditProfile","onAddPlace","cards","map","onCardClick","handleCardLike","handleCardDelete","Login","React","useState","registerEmail","setRegisterEmail","registerPass","setRegisterPass","onSubmit","evt","preventDefault","handleLoginUser","placeholder","value","onChange","target","Register","handleRegisterUser","ImagePopup","title","onClose","PopupWithForm","isOpen","children","EditProfilePopup","UserName","setName","description","setDescription","useEffect","_","required","maxLength","minLength","onUpdateUser","ProtectedRoute","Component","component","InfoTooltip","loadingOk","cancel","cool","error","EditAvatarPopup","urlRef","useRef","ref","onUpdateAvatar","current","AddPlacePopup","cardName","setCardName","cardLink","setCardLink","BASE_URL","authApi","password","email","sign","App","history","useHistory","isEditPlacePopupOpen","setIsEditPlace","isEditAvatarPopupOpen","setIsEditAvatar","isEditProfilePopupOpen","setIsEditProfile","tooltip","setToolTip","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","setLoadingOk","setHeaderEmail","deleteCardsPopup","setDeleteCardsPopup","currentCardId","setCurrentCardId","closeAllPopups","all","getInfo","receiveCardsFromServer","user","items","catch","err","console","log","token","jwt","push","Provider","removeItem","exact","path","setLike","newCard","newCards","c","setItem","editUserInfo","item","uploadCardsToServer","deleteCard","newCardsList","filter","editAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ebe6fd97.chunk.js","sourcesContent":["class Api {\n  constructor(data) {\n    this._url = data.url;\n  }\n\n  getInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        \"content-type\": \"application/json\",\n      },\n    }).then(this._checkStatus);\n  }\n\n  receiveCardsFromServer() {\n    return fetch(`${this._url}/cards`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        \"content-type\": \"application/json\",\n      },\n    }).then(this._checkStatus);\n  }\n\n  uploadCardsToServer(names, links) {\n    return fetch(`${this._url}/cards`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: names,\n        link: links,\n      }),\n    }).then(this._checkStatus);\n  }\n \n  editUserInfo(names, links) {\n    return fetch(`${this._url}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        name: names,\n        about: links,\n      }),\n    }).then(this._checkStatus);\n  }\n  \n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        \"content-type\": \"application/json\",\n      },\n    }).then(this._checkStatus);\n  }\n  \n  editAvatar(data) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n        \"content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        avatar: data,\n      }),\n    }).then(this._checkStatus);\n  }\n  \n  setLike(id, checkCard) {\n    if (checkCard) {\n      return fetch(`${this._url}/cards/${id}/likes`, {\n        method: \"PUT\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n          \"content-type\": \"application/json\",\n        },\n      }).then(this._checkStatus);\n    } else {\n      return fetch(`${this._url}/cards/${id}/likes`, {\n        method: \"DELETE\",\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\n          \"content-type\": \"application/json\",\n        },\n      }).then(this._checkStatus);\n    }\n  }\n  \n  _checkStatus(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n}\nconst api = new Api({\n  url: \"https://top.mestop.nomoredomains.club\",\n});\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React from \"react\";\nimport { useLocation } from \"react-router\";\nimport logo from \"../images/logo.svg\";\nimport { Link } from \"react-router-dom\";\n\nfunction Header(props) {\n  const locationLink = useLocation();\n\n  const linkSwitch = () =>\n    locationLink.pathname === \"/sign-in\" ? (\n      <Link className=\"header__text\" to=\"/sign-up\">\n        Регистрация\n      </Link>\n    ) : (\n      <Link className=\"header__text\" to=\"/sign-in\">\n        Войти\n      </Link>\n    );\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Логотип\"></img>\n      {props.loggedIn ? (\n        <div className=\"header__auth\">\n          <p className=\"header__email\">{props.headerEmail}</p>\n          <a className=\"header__title\" onClick={props.logOut}>Выйти</a>\n        </div>\n      ) : (\n        linkSwitch()\n      )}\n    </header>\n  );\n}\nexport default Header;\n","import { createContext } from \"react\";\nexport const CurrentUserContext = createContext();\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = props.card.owner === currentUser._id;\n  const isLiked = props.card.likes.some((i) => i === currentUser._id);\n  \n  const cardDeleteButtonClassName = `cards__delete ${\n    isOwn ? \"\" : \"cards__delete_inactive\"\n  }`;\n  const cardLikeButtonClassName = `cards__like ${\n    isLiked ? \"cards__like_active\" : \"\"\n  }`;\n\n  function handleClick() {\n    props.CardClick(props.card);\n  }\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n  function handleDeleteClick() {\n    props.onCardDelete(props.card._id);\n  }\n\n  return (\n    <div className=\"cards__item\">\n      <img className=\"cards__img\" src={props.card.link} alt=\"\" onClick={handleClick}></img>\n      <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\n      <div className=\"cards__info\">\n        <h2 className=\"cards__text\">{props.card.name}</h2>\n        <div className=\"cards__container\">\n          <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n          <p className=\"cards__like_number\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default Card;\n","import React from \"react\";\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__author\">&copy;{new Date().getFullYear()}. Vlad-maker</p>\n    </footer>\n  );\n}\nexport default Footer;\n","import React, { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport Card from \"./Card\";\nimport Footer from \"./Footer\";\n\nconst Main = (props) => {\n  const { name, avatar, about } = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar_block\">\n          <img className=\"profile__image\" src={avatar} alt=\"Аватар\"></img>\n          <button className=\"profile__avatar\" onClick={props.onEditAvatar}></button>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__button\">\n            <h1 className=\"profile__author\">{name}</h1>\n            <button className=\"profile__edit profile__edit_open_popup\" type=\"button\" onClick={props.onEditProfile}></button>\n          </div>\n          <p className=\"profile__description\">{about}</p>\n        </div>\n        <button className=\"profile__add\" type=\"button\" onClick={props.onAddPlace}></button>\n      </section>\n      <section className=\"cards\">\n        {props.cards.map((card) => {\n          return (\n            <Card \n              card={card}\n              CardClick={props.onCardClick}\n              key={card._id}\n              onCardLike={props.handleCardLike}\n              onCardDelete={props.handleCardDelete}\n            />\n          );\n        })}\n      </section>\n      <Footer />\n    </main>\n  );\n};\n\nexport default Main;\n","import React from \"react\";\n\nfunction Login(props) {\n  const [registerEmail, setRegisterEmail] = React.useState(\"\");\n  const [registerPass, setRegisterPass] = React.useState(\"\");\n\n  const handleChangeEmail = (evt) => {\n    setRegisterEmail(evt.target.value);\n  };\n  const handleChangePass = (evt) => {\n    setRegisterPass(evt.target.value);\n  };\n\n  const handleSubmitLogin = (evt) => {\n    evt.preventDefault();\n    props.handleLoginUser(registerPass, registerEmail);\n  }\n\n  return (\n    <section className=\"login\">\n      <form className=\"login__form\" onSubmit={handleSubmitLogin}>\n        <h2 className=\"login__title\">Вход</h2>\n        <input placeholder=\"Email\" type=\"email\" className=\"login__input\" name=\"email\" value={registerEmail} onChange={handleChangeEmail}></input>\n        <input placeholder=\"Пароль\" type=\"password\" className=\"login__input\" name=\"password\" value={registerPass} onChange={handleChangePass}></input>\n        <button type=\"submit\" className=\"login__button\">\n          Войти\n        </button>\n      </form>\n    </section>\n  );\n}\nexport default Login;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Register(props) {\n  const [registerEmail, setRegisterEmail] = React.useState(\"\");\n  const [registerPass, setRegisterPass] = React.useState(\"\");\n\n  const handleChangeEmail = (evt) => {\n    setRegisterEmail(evt.target.value);\n  };\n  const handleChangePass = (evt) => {\n    setRegisterPass(evt.target.value);\n  };\n\n  const handleSubmitRegister = (evt) => {\n    evt.preventDefault();\n    props.handleRegisterUser(registerPass, registerEmail);\n  }\n\n  return (\n    <section className=\"register\">\n      <form className=\"register__form\" onSubmit={handleSubmitRegister}>\n        <h2 className=\"register__title\">Регистрация</h2>\n        <input placeholder=\"Email\" type=\"email\" className=\"register__input\" name=\"email\" value={registerEmail} onChange={handleChangeEmail}></input>\n        <input placeholder=\"Пароль\" type=\"password\" className=\"register__input\" name=\"password\" value={registerPass} onChange={handleChangePass}></input>\n        <button type=\"submit\" className=\"register__button\">\n          Зарегистрироваться\n        </button>\n        <span className=\"register__text\">\n          Есть аккаунт?{\" \"}\n          <Link className=\"register__link\" to=\"/sign-in\">\n            Войти\n          </Link>\n        </span>\n      </form>\n    </section>\n  );\n}\nexport default Register;\n","import React from \"react\";\n\nfunction ImagePopup(props) {\n  return (\n    <section\n      className={`popup photo ${props.card.status ? \"popup_opened\" : \"\"}`}\n    >\n      <div className=\"photo__container\">\n        <img className=\"photo__image\" src={props.card.links} alt=\"\"></img>\n        <p className=\"photo__title\">{props.card.title}</p>\n        <button type=\"reset\" className=\"popup__close photo__close\" onClick={props.onClose}\n        ></button>\n      </div>\n    </section>\n  );\n}\nexport default ImagePopup;\n","import React from \"react\";\n\nfunction PopupWithForm(props) {\n  return (\n    <section className={`popup ${props.name} ${props.isOpen ? \"popup_opened\" : \"\"}`} id=\"edit__popup\">\n      <form method=\"POST\" className=\"popup__container\" name={props.name}>\n        <h2 className=\"popup__heading\">{props.title}</h2>\n        {props.children}\n        <button type=\"reset\" className=\"popup__close\" onClick={props.onClose}></button>\n      </form>\n    </section>\n  );\n}\nexport default PopupWithForm;\n","import React, { useContext } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nconst EditProfilePopup = (props) => {\n  const [UserName, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const currentUser = useContext(CurrentUserContext);\n\n  React.useEffect(\n    (_) => {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n    },\n    [currentUser]\n  );\n\n  const handleChangeName = (evt) => {\n    setName(evt.target.value);\n  };\n  const handleChangeDescription = (evt) => {\n    setDescription(evt.target.value);\n  };\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    props.onUpdateUser(UserName, description);\n  };\n\n  return (\n    <PopupWithForm name=\"popup\" title=\"Редактировать профиль\" isOpen={props.isOpen} onClose={props.onClose}>\n      <label className=\"popup__label\">\n        <input id=\"name-input\" type=\"text\" name=\"name\" className=\"popup__text popup__text_name_input\" required\n          maxLength=\"40\" minLength=\"2\" value={UserName || \"\"} onChange={handleChangeName}>\n        </input>\n        <span className=\"popup__error\" id=\"name-input-error\"></span>\n      </label>\n      <label className=\"popup__label\">\n        <input id=\"job-input\" type=\"text\" name=\"job\" className=\"popup__text popup__text_job_input\" required\n          maxLength=\"200\" minLength=\"2\" value={description || \"\"} onChange={handleChangeDescription}>\n        </input>\n        <span className=\"popup__error\" id=\"job-input-error\"></span>\n      </label>\n      <button type=\"submit\" className=\"popup__button popup__button_form_save\" onClick={handleSubmit}>\n        Сохранить\n      </button>\n    </PopupWithForm>\n  );\n};\n\nexport default EditProfilePopup;\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/ok.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/cancel.df8eddf6.svg\";","import React from \"react\";\nimport ok from \"../images/ok.svg\";\nimport cancel from \"../images/cancel.svg\";\n\nfunction InfoTooltip(props) {\n  return (\n    <section className={`tool ${props.isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className=\"tool__container\">\n        <button className=\"tool__button\" type=\"reset\" onClick={props.onClose}></button>\n\n        <div className=\"tool__image\">\n          {props.loadingOk ? (\n            <img src={ok} alt=\"ok\" />\n          ) : (\n            <img src={cancel} alt=\"error\" />\n          )}\n        </div>\n        <span className=\"tool__text\">\n          {props.loadingOk\n            ? props.cool\n            : props.error}\n        </span>\n      </div>\n    </section>\n  );\n}\n\nexport default InfoTooltip;\n","import React, { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst EditAvatarPopup = (props) => {\n  const urlRef = useRef(\"\");\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    props.onUpdateAvatar(urlRef.current.value);\n    urlRef.current.value=\"\";\n  };\n\n  return (\n    <PopupWithForm\n      name=\"popup__avatar\"\n      title=\"Обновить аватар\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n    >\n      <label className=\"popup__label\">\n        <input type=\"url\" id=\"url-input-avatar\" name=\"link\" placeholder=\"Ссылка на аватар\" className=\"popup__text popup__text_avatar\" required ref={urlRef}></input>\n        <span className=\"popup__error\" id=\"url-input-error\"></span>\n      </label>\n      <button type=\"submit\" className=\"popup__button popup__button_avatar_form\" onClick={handleSubmit}>\n        Сохранить\n      </button>\n    </PopupWithForm>\n  );\n};\n\nexport default EditAvatarPopup;\n","import React, { useState } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nconst AddPlacePopup = (props) => {\n  const [cardName, setCardName] = useState(\"\");\n  const [cardLink, setCardLink] = useState(\"\");\n\n  const handleChangeName = (evt) => {\n    setCardName(evt.target.value);\n  };\n  const handleChangeLink = (evt) => {\n    setCardLink(evt.target.value);\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n    props.onAddPlace(cardName, cardLink);\n    setCardName('');\n    setCardLink('');\n  };\n\n  return (\n    <PopupWithForm\n      name=\"popup_cards\"\n      title=\"Новое место\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n    >\n      <label className=\"popup__label\">\n        <input type=\"text\" id=\"input-name\" value={cardName} name=\"name\" placeholder=\"Название\" \n        className=\"popup__text popup__text_name_cards\" required maxLength=\"30\" minLength=\"2\" onChange={handleChangeName}></input>\n        <span className=\"popup__error\" id=\"input-name-error\"></span>\n      </label>\n      <label className=\"popup__label\">\n        <input type=\"url\" id=\"url-input\" name=\"link\" value={cardLink} placeholder=\"Ссылка на картинку\" \n        className=\"popup__text popup__text_job_cards\" required onChange={handleChangeLink}></input>\n        <span className=\"popup__error\" id=\"url-input-error\"></span>\n      </label>\n      <button type=\"submit\" className=\"popup__button popup__button_save_form\" onClick={handleSubmit}>\n        Сохранить\n      </button>\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","export const BASE_URL = \"https://top.mestop.nomoredomains.club\";\n\nconst authApi = (password, email, sign) => {\n  return fetch(`${BASE_URL}/${sign}`, {\n    method: \"POST\",\n    headers: {\n      'Accept': \"application/json\",\n      'Content-Type': \"application/json\",\n    },\n    body: JSON.stringify({ password, email }),\n  }).then((res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  });\n};\n\nconst authApiToken = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      'Accept': \"application/json\",\n      'Content-Type': \"application/json\",\n      'Authorization': `Bearer ${token}`,\n    },\n  }).then((res) => {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  });\n};\n\nexport { authApiToken, authApi };\n","import React from \"react\";\nimport api from \"../utils/Api\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Login from \"./Login\";\nimport Register from \"./Register\";\nimport ImagePopup from \"./ImagePopup\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport InfoTooltip from \"./InfoTooltip\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { Redirect, Route, Switch, useHistory } from \"react-router\";\nimport { authApiToken, authApi } from \"../utils/Auth\";\n\nconst App = (_) => {\n  const history = new useHistory();\n  const [isEditPlacePopupOpen, setIsEditPlace] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatar] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfile] = React.useState(false);\n  const [tooltip, setToolTip] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [loadingOk, setLoadingOk] = React.useState(true);\n  const [headerEmail, setHeaderEmail] = React.useState(\"\");\n  const [deleteCardsPopup, setDeleteCardsPopup] = React.useState(false);\n  const [currentCardId, setCurrentCardId] = React.useState(\"\");\n\n  React.useEffect(() => {\n    if (loggedIn) {\n      Promise.all([api.getInfo(), api.receiveCardsFromServer()])\n        .then(([user, items]) => {\n          setCurrentUser(user);\n          setCards(items);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [loggedIn]);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i === currentUser._id);\n    api\n      .setLike(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  }\n  \n  React.useEffect((_) => {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      authApiToken(jwt)\n        .then((res) => {\n          if (res.email) {\n            setHeaderEmail(res.email);\n            setLoggedIn(true);\n            history.push(\"/\");\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  });\n\n  function handleRegisterUser(password, email) {\n    setLoadingOk(true);\n    authApi(password, email, \"signup\")\n      .then((res) => {\n        if (res) {\n          setToolTip(true);\n          history.push(\"/sign-in\");\n        }\n      })\n      .catch((err) => {\n        if (err.status === 400) {\n          console.log(err);\n        }\n        setLoadingOk(false);\n        setToolTip(true);\n      });\n  }\n  function handleLoginUser(password, email) {\n    authApi(password, email, \"signin\")\n      .then((res) => {\n        if (res) {\n          localStorage.setItem(\"jwt\", res.token);\n          console.log(res.token);\n          setLoggedIn(true);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => console.log(err));\n  }\n  function logOut() {\n    localStorage.removeItem(\"jwt\");\n    setLoggedIn(false);\n    history.push(\"/sign-in\");\n  }\n  function handleCardDelete() {\n    api\n      .deleteCard(currentCardId)\n      .then((_) => {\n        const newCardsList = cards.filter(\n          (value) => currentCardId !== value._id\n        );\n        setCards(newCardsList);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleAddPlaceSubmit(name, link) {\n    api\n      .uploadCardsToServer(name, link)\n      .then((item) => {\n        setCards([item, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleUpdateUser(name, about) {\n    api.editUserInfo(name, about).then((item) => {\n      setCurrentUser(item);\n      closeAllPopups();\n    });\n  }\n  function handleUpdateAvatar(url) {\n    api\n      .editAvatar(url)\n      .then((item) => {\n        setCurrentUser(item);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err));\n  }\n  function handleEditAvatarClick() {\n    setIsEditAvatar(true);\n  }\n  function handleEditProfileClick() {\n    setIsEditProfile(true);\n  }\n  function handleAddPlaceClick() {\n    setIsEditPlace(true);\n  }\n  function handleConfirmClick(id) {\n    setCurrentCardId(id);\n    setDeleteCardsPopup(true);\n  }\n  function handleCardClick(props) {\n    setSelectedCard({ status: true, title: props.name, links: props.link });\n  }\n  function closeAllPopups() {\n    setIsEditAvatar(false);\n    setIsEditProfile(false);\n    setIsEditPlace(false);\n    setToolTip(false);\n    setDeleteCardsPopup(false);\n    setSelectedCard({});\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header headerEmail={headerEmail} loggedIn={loggedIn} logOut={logOut} />\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            setCards={setCards}\n            handleCardLike={handleCardLike}\n            handleCardDelete={handleConfirmClick}\n          />\n          <Route path=\"/sign-in\">\n            <Login handleLoginUser={handleLoginUser} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register handleRegisterUser={handleRegisterUser} />\n          </Route>\n          <Route exact path=\"/\">\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\n        <AddPlacePopup isOpen={isEditPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\n        <ImagePopup card={selectedCard} onClose={closeAllPopups}/>\n        <PopupWithForm isOpen={deleteCardsPopup} onClose={closeAllPopups} name=\"delete__cards\" title=\"Вы уверены?\">\n          <button className=\"popup__button popup__delete_button\" type=\"button\" onClick={handleCardDelete}>Да</button>\n          <button type=\"button\" className=\"popup__close popup__delete_close_button\"></button>\n        </PopupWithForm>\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\n        <InfoTooltip isOpen={tooltip} onClose={closeAllPopups} loadingOk={loadingOk} cool={\"Вы зарегистрировались!\"} error={\"Ошибка! Попробуйте ещё раз.\"}/>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}